# GENERATED BY make-dhcpd.pl

# 60 min leasetime, 120 min max
default-lease-time 3600;
max-lease-time 7200;

# make server authorative
authoritative;

# Don't let clients set their own FQDN
ignore client-updates;

# enable DDNS
ddns-update-style interim;

# set ddns-hostname
if exists host-name {
        ddns-hostname = lcase(option host-name);
} elsif exists fqdn.hostname {
        ddns-hostname = lcase(option fqdn.hostname);
} else {
        ddns-hostname = binary-to-ascii(10, 8, "-", leased-address);
}

# Domain name (unless overriden elsewhere)
option domain-name "tg15.gathering.org";
option domain-name-servers 185.12.59.66, 185.12.59.2;

key DHCP_UPDATER {
        algorithm HMAC-MD5.SIG-ALG.REG.INT;
        secret <removed>;
}

# Servernetwork, Tele
subnet 185.12.59.64 netmask 255.255.255.224 {}

# Servernetwork, NOC
# Add small range at the end for PXE
subnet 185.12.59.0 netmask 255.255.255.192 {
	option subnet-mask 255.255.255.192;
	option routers 185.12.59.1;

	# No DDNS
	ddns-updates off;
	ddns-hostname = none;
	ddns-domainname = none;
	
	# supershort leasetime
	default-lease-time 300;
	max-lease-time 600;

	range 185.12.59.30 185.12.59.62;
}

include "/etc/dhcp/v4-revzones.conf";
include "/etc/dhcp/v4-generated-include.conf";
include "/etc/dhcp/v4-pxe-boot.conf";
include "/etc/dhcp/v4-wlc.conf";
include "/etc/dhcp/v4-voip.conf";
